<?xml version="1.0" encoding="utf-8"?>
<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Slab Passes - Configuração Dinâmica"
        Height="700" Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Grid.Row="0" Text="Configuração de Passagens de Laje"
                   FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

        <!-- FILTRO DINÂMICO -->
        <Border Grid.Row="1" Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="2"
                CornerRadius="5" Padding="15" Margin="0,0,0,15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="Filtro de Agrupamento (Opcional):"
                          FontWeight="Bold" FontSize="13" Margin="0,0,0,8"/>

                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Parâmetro:" VerticalAlignment="Center"
                              Margin="0,0,10,0" FontWeight="SemiBold"/>
                    <ComboBox x:Name="combo_filter" Grid.Column="1" Height="32" FontSize="12"
                             ToolTip="Escolha um parâmetro para agrupar os tubos além do diâmetro"/>
                </Grid>
            </Grid>
        </Border>

        <!-- GRUPOS DE TUBOS -->
        <Border Grid.Row="2" BorderBrush="#DDD" BorderThickness="1" CornerRadius="3">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="diameter_panel" Margin="5"/>
            </ScrollViewer>
        </Border>

        <!-- CONFIGURAÇÕES DE NÍVEL -->
        <Border Grid.Row="3" Background="#F5F5F5" Padding="12" Margin="0,15,0,0" CornerRadius="3">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="100"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Nível de Referência:" FontWeight="SemiBold"
                          VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox x:Name="combo_level" Grid.Column="1" Height="30"/>

                <TextBlock Grid.Column="2" Text="Ajuste Fino (m):" FontWeight="SemiBold"
                          VerticalAlignment="Center" Margin="20,0,10,0"
                          ToolTip="Offset vertical em metros. 0 = nível zero"/>
                <TextBox x:Name="txt_elevation" Grid.Column="3" Height="30" Text="0"
                        VerticalContentAlignment="Center"/>
            </Grid>
        </Border>

        <!-- STATUS -->
        <TextBlock x:Name="status_text" Grid.Row="4"
                   Text="Status..." Foreground="#666" FontSize="11"
                   Margin="0,10,0,0" TextWrapping="Wrap"/>

        <!-- BOTÕES -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right"
                   Margin="0,15,0,0">
            <Button x:Name="btn_cancel" Content="Cancelar" Width="110" Height="35"
                   Margin="0,0,10,0" FontSize="12"/>
            <Button x:Name="btn_apply" Content="Aplicar" Width="110" Height="35"
                    Background="#1976D2" Foreground="White" FontWeight="Bold" FontSize="12"/>
        </StackPanel>
    </Grid>
</Window>